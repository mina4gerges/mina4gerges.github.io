(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{223:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(0),c=a.n(r),s=a(27),i=a.n(s),l=a(41),o=a(65),u=a(154),j=a(155),d=a.n(j),b=a(189),p="CREATE",O="UPDATE",h="DELETE",m="FETCH_ALL",f="AUTH",x="LOGOUT",g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload;case p:return[].concat(Object(b.a)(e),[t.payload]);case h:return e.filter((function(e){return e._id!==t.payload}));case O:return e.map((function(e){return e._id===t.payload._id?t.payload.data:e}));default:return e}},v=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOADING":return t.payload;default:return e}},y=a(30),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return localStorage.setItem("profile",JSON.stringify(t.data)),Object(y.a)(Object(y.a)({},e),{},{authObj:t.data});case x:return localStorage.clear(),Object(y.a)(Object(y.a)({},e),{},{authObj:null});default:return e}},C=Object(o.c)({posts:g,loading:v,auth:w}),k=a(371),T=a(85),S=a(33),I=a(52),P=a.n(I),q=a(72),F=a(93),N=a.n(F),E="https://memories-project-youtube.herokuapp.com/posts",L=function(e){return N.a.delete("".concat(E,"/").concat(e))},A=function(e,t){return N.a.patch("".concat(E,"/").concat(e),t)},_=function(e){return{type:"IS_LOADING",payload:e}},M=a(67),R=a(368),D=a(370),G=a(366),U=a(188),z=(a(223),R.a.Title),H=R.a.Text,J=k.a.Header,V=function(){var e,t,a,c,s,i,o,u=Object(l.b)(),j=Object(S.f)(),d=Object(S.g)(),b=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),p=Object(M.a)(b,2),O=p[0],h=p[1];Object(r.useEffect)((function(){h(JSON.parse(localStorage.getItem("profile")))}),[d]);return Object(n.jsxs)(J,{className:"app-bar navbar-main",children:[Object(n.jsx)(z,{level:2,className:"heading",children:"Memories"}),Object(n.jsx)("div",{className:"navbar-button",children:O?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(H,{children:[Object(n.jsx)(H,{style:{textTransform:"capitalize"},children:null===O||void 0===O||null===(e=O.result)||void 0===e?void 0:e.name}),Object(n.jsxs)(H,{children:["(",null===O||void 0===O||null===(t=O.result)||void 0===t?void 0:t.email,")"]})]})," ",Object(n.jsx)(D.a,{alt:null===O||void 0===O||null===(a=O.result)||void 0===a||null===(c=a.name)||void 0===c?void 0:c.charAt(0),src:Object(n.jsx)(G.a,{src:null===O||void 0===O||null===(s=O.result)||void 0===s?void 0:s.imageUrl,alt:null===O||void 0===O||null===(i=O.result)||void 0===i||null===(o=i.name)||void 0===o?void 0:o.charAt(0)})})," ",Object(n.jsx)(U.a,{type:"danger",onClick:function(){u({type:x}),h(null),j.push("/auth")},children:"Logout"})]}):Object(n.jsx)(U.a,{type:"primary",children:Object(n.jsx)(T.b,{to:"/auth",children:"Login"})})})]})},B=(a(281),a(83)),W=a(54),Z=a(177),K=a.n(Z),Q=a(365),X=a(369),Y=a(374),$=a(375),ee=a(376),te=Q.a.Meta,ae=function(e){var t=e.title,a=e.description,r=e.loading,c=e.image,s=e.createdAt,i=e.onIconClick;return Object(n.jsx)(Q.a,{hoverable:!0,title:t,style:{width:300,marginTop:16},actions:[Object(n.jsx)(Y.a,{},"like"),Object(n.jsx)($.a,{onClick:i?i("edit"):null},"edit"),Object(n.jsx)(ee.a,{onClick:i?i("delete"):null},"delete")],children:Object(n.jsx)(X.a,{loading:r,avatar:!0,active:!0,children:Object(n.jsx)(te,{avatar:Object(n.jsx)(G.a,{width:100,height:100,src:c}),description:a,title:K()(s).fromNow()})})})},ne=function(e){var t=e.loading,a=e.data,r=Object(l.b)();if(t)return Object(n.jsx)(ae,{loading:t});var c=a._id,s=a.title,i=a.message,o=a.selectedFile,u=a.createdAt;return Object(n.jsx)(ae,{title:s,loading:t,image:o,description:i,createdAt:u,onIconClick:function(e){return function(){switch(e){case"delete":r((t=c,function(){var e=Object(q.a)(P.a.mark((function e(a){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t);case 3:n=e.sent,r=n.data,a({type:h,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));break;case"edit":r(function(e,t){return function(){var a=Object(q.a)(P.a.mark((function a(n){var r,c;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A(e,t);case 3:r=a.sent,c=r.data,n({type:O,payload:{_id:e,data:c}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(c,a))}var t}}})},re=a(84),ce=function(){var e=Object(l.c)((function(e){return e.posts})),t=Object(l.c)((function(e){return e.loading}));return t?Object(n.jsx)("div",{children:Object(n.jsx)(ne,{loading:t})}):0===e.length?Object(n.jsx)(re.a,{image:re.a.PRESENTED_IMAGE_SIMPLE}):Object(n.jsx)("div",{children:e.map((function(e){return Object(n.jsx)(ne,{data:e},e._id)}))})},se=a(372),ie=a(367),le=a(377),oe=a(180),ue=a.n(oe),je=se.a.TextArea,de=ie.a.Item,be=ie.a.useForm,pe=function(){var e=Object(l.b)(),t=be(),a=Object(M.a)(t,1)[0],c=Object(r.useState)(!0),s=Object(M.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)({tags:"",title:"",creator:"",message:"",selectedFile:""}),j=Object(M.a)(u,2),d=j[0],b=j[1],O=function(e){e.preventDefault(),b({tags:"",title:"",creator:"",message:"",selectedFile:""})};return Object(n.jsxs)(ie.a,{form:a,layout:"vertical",requiredMark:i,initialValues:{requiredMark:i},onValuesChange:function(e){var t=e.requiredMark;o(t)},children:[Object(n.jsx)(de,{required:!0,label:"Title",tooltip:"This is a required field",rules:[{required:!0,message:"Please enter the Title!"}],children:Object(n.jsx)(se.a,{allowClear:!0,placeholder:"Title",value:d.title,prefix:Object(n.jsx)(le.a,{}),onChange:function(e){var t=e.target.value;return b(Object(y.a)(Object(y.a)({},d),{},{title:t}))}})}),Object(n.jsx)(de,{required:!0,label:"Creator",tooltip:"This is a required field",rules:[{required:!0,message:"Please enter the Creator!"}],children:Object(n.jsx)(je,{placeholder:"Creator",value:d.creator,autoSize:{minRows:3,maxRows:5},onChange:function(e){var t=e.target.value;return b(Object(y.a)(Object(y.a)({},d),{},{creator:t}))}})}),Object(n.jsx)(de,{required:!0,label:"Message",tooltip:"This is a required field",rules:[{required:!0,message:"Please enter the Message!"}],children:Object(n.jsx)(je,{placeholder:"Message",value:d.message,autoSize:{minRows:3,maxRows:5},onChange:function(e){var t=e.target.value;return b(Object(y.a)(Object(y.a)({},d),{},{message:t}))}})}),Object(n.jsx)(de,{required:!0,label:"Tags",tooltip:"This is a required field",rules:[{required:!0,message:"Please enter the Tags!"}],children:Object(n.jsx)(je,{placeholder:"Tags",value:d.tags,autoSize:{minRows:3,maxRows:5},onChange:function(e){var t=e.target.value;return b(Object(y.a)(Object(y.a)({},d),{},{tags:t}))}})}),Object(n.jsx)(de,{required:!0,label:"File",tooltip:"This is a required field",rules:[{required:!0,message:"Please enter the File!"}],children:Object(n.jsx)(ue.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return b(Object(y.a)(Object(y.a)({},d),{},{selectedFile:t}))}})}),Object(n.jsx)(de,{children:Object(n.jsx)(U.a,{type:"primary",htmlType:"submit",block:!0,size:"large",onClick:function(t){var a;t.preventDefault(),e((a=d,function(){var e=Object(q.a)(P.a.mark((function e(t){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=a,N.a.post(E,c);case 3:n=e.sent,r=n.data,t({type:p,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}var c}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),O(t)},children:"Submit"})}),Object(n.jsx)(de,{children:Object(n.jsx)(U.a,{type:"secondary",htmlType:"reset",danger:!0,block:!0,onClick:O,children:"Clear"})})]})},Oe=k.a.Content,he=function(){return Object(n.jsx)(Oe,{children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(W.a,{flex:2,children:Object(n.jsx)(ce,{})}),Object(n.jsx)(W.a,{flex:1,children:Object(n.jsx)("div",{className:"form-component",children:Object(n.jsx)(pe,{})})})]})})},me=a(373),fe=a(187),xe=function(){return Object(n.jsx)("svg",{style:{width:"20px",height:"20px",position:"absolute",left:2},viewBox:"0 0 24 24",children:Object(n.jsx)("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})})},ge=(a(361),{labelCol:{span:8},wrapperCol:{span:16}}),ve={wrapperCol:{offset:8,span:16}},ye=function(){var e=Object(l.b)(),t=Object(S.f)(),a=Object(r.useState)(!1),c=Object(M.a)(a,2),s=c[0],i=c[1],o=function(){var a=Object(q.a)(P.a.mark((function a(n){var r,c;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=null===n||void 0===n?void 0:n.profileObj,c=null===n||void 0===n?void 0:n.tokenId;try{e({type:f,data:{result:r,token:c}}),t.push("/")}catch(s){console.log("error ",s)}case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"auth-main",children:Object(n.jsx)(Q.a,{title:"Welcome",className:"auth-card",children:Object(n.jsxs)(ie.a,Object(y.a)(Object(y.a)({},ge),{},{name:"basic",initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},children:[s&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ie.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(n.jsx)(se.a,{placeholder:"Name",autoFocus:s})}),Object(n.jsx)(ie.a.Item,{label:"Last Name",name:"lastName",rules:[{required:!0,message:"Please input your last name!"}],children:Object(n.jsx)(se.a,{placeholder:"Last Name"})})]}),Object(n.jsx)(ie.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(n.jsx)(se.a,{type:"email",placeholder:"Email",autoFocus:!s})}),Object(n.jsx)(ie.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(n.jsx)(se.a.Password,{placeholder:"Password"})}),s&&Object(n.jsx)(ie.a.Item,{label:"Repeat Password",name:"repeatPassword",rules:[{required:!0,message:"Please input your repeat password!"}],children:Object(n.jsx)(se.a.Password,{placeholder:"Repeat Password"})}),Object(n.jsx)(ie.a.Item,Object(y.a)(Object(y.a)({},ve),{},{name:"remember",valuePropName:"checked",children:Object(n.jsx)(me.a,{children:"Remember me"})})),Object(n.jsx)(ie.a.Item,Object(y.a)(Object(y.a)({},ve),{},{children:Object(n.jsx)(U.a,{type:"primary",htmlType:"submit",children:s?"Sign Up":"Sign In"})})),Object(n.jsx)(ie.a.Item,Object(y.a)(Object(y.a)({},ve),{},{children:Object(n.jsx)(fe.GoogleLogin,{clientId:"123312.apps.googleusercontent.com",render:function(e){return Object(n.jsx)(U.a,{type:"default",icon:Object(n.jsx)(xe,{}),onClick:e.onClick,disabled:e.disabled,children:"\xa0\xa0Sign in with GOOGLE"})},onSuccess:o,onFailure:function(e){console.log("googleFailure ",e)},cookiePolicy:"single_host_origin"})})),Object(n.jsx)(U.a,{type:"link",onClick:function(){i((function(e){return!e}))},children:s?"Already have an account ? Sign In":"Don't have an account ? Sign Up"})]}))})})},we=function(){var e=Object(l.b)();return Object(r.useEffect)((function(){e(_(!0)),e(function(){var e=Object(q.a)(P.a.mark((function e(t){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get(E);case 3:a=e.sent,n=a.data,setTimeout((function(){t(_(!1))}),1500),t({type:m,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(n.jsx)(T.a,{children:Object(n.jsxs)(k.a,{className:"app-layout",children:[Object(n.jsx)(V,{}),Object(n.jsxs)(S.c,{children:[Object(n.jsx)(S.a,{path:"/",exact:!0,component:he}),Object(n.jsx)(S.a,{path:"/auth",exact:!0,component:ye})]})]})})},Ce=(a(362),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,378)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))});d.a.config();var ke=Object(o.e)(C,Object(o.d)(Object(o.a)(u.a)));i.a.render(Object(n.jsx)(l.a,{store:ke,children:Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(we,{})})}),document.getElementById("root")),Ce()}},[[363,1,2]]]);
//# sourceMappingURL=main.58a71718.chunk.js.map